<!DOCTYPE html>

{% load static %}
<html lang="en" dir="ltr">
   <head>
      <meta charset="utf-8">
      <!-- <title>Responsive Navbar with Searchbox</title> -->
      <link rel="stylesheet" href="/static/css/index_styles.css?{% now 'U' %}"/>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
      <link rel="stylesheet" href="/static/css/foodjournal.css?{% now 'U' %}"/><!-- Include the new foodjournal.css -->
      <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
      <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=65f538cc6537490dba7925c7" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
   </head>
   <body>
      <nav style="background-color: #8ec6ff;"> <!-- Lighter blue background -->
         <ul>
            <li class="logo"><a href="{% url 'home' %}"><img src="{% static 'images/dllogo2.png' %}"></a></li>
            <li class="btn"><span class="fas fa-bars"></span></li>
            <div class="items">
               <li><a href="{% url 'suggestion' %}">食譜推薦</a></li>
               <li><a href="{% url 'buy_recipe' %}">食材購買</a></li>
               <li><a href="{% url 'food_journal' %}">飲食日記</a></li>
               <li class="dropdown">
                  <a href="#">更多選項 <i class="fas fa-caret-down"></i></a>
                  <div class="dropdown-content">
                      <a href="#">訂單查詢</a>
                      <a href="#">賣菜車</a>
                  </div>
              </li>
            </div>
            <li><a href="{% url 'login' %}" class="login-btn">登入</a></li> <!-- Login Button -->
         </ul>
         <div class="search-icon">
            <input type="search" placeholder="搜尋">
            <label class="icon">
            <span class="fas fa-search"></span>
            </label>
         </div>
      </nav>

      <!-- New Navigation Bar -->
      <div class="new-navbar">
         <a href="#" class="nav-link" id="analysis1">食譜分析</a>
         <a href="#" class="nav-link" id="analysis2">飲食分析</a>
         <a href="#" class="nav-link" id="analysis3">個人食譜</a>
      </div>

      <!-- Initial Content Section -->
      <div id="initialContent" class="content-section">
         <h2>健康快報</h2>
         <p>這禮拜飲食均衡指數、每餐平均熱量、今日推薦菜色…</p>
      </div>

      <!-- Context Sections -->
      <div class="content-container">
         <div id="context1" class="context-section" style="display: none;">
            <h2>食譜分析</h2>
            <label for="dateSelector">選擇日期：</label>
            <input type="date" id="dateSelector" name="dateSelector">
            <table id="dishTable">
               <thead>
                  <tr>
                     <th>日期</th>
                     <th>菜名</th>
                  </tr>
               </thead>
               <tbody id="dishTableBody">
                  <!-- Dish rows will be dynamically added here -->
               </tbody>
            </table>
            <div id="dishInfoContainer" style="display: none;">
               <h3 id="dishName"></h3>
               <div id="dishInfo"></div>
            </div>
         </div>

         <div id="context2" class="context-section" style="display: none;">
            <h2>飲食分析</h2>
            <!-- Search bar -->
            <div class="search-bar">
               <input type="text" id="ingredientSearchInput" placeholder="Search for ingredients..." class="search-input">
               <button id="ingredientSearchButton" class="search-button">Search</button>
            </div>
            <!-- Display search results -->
            <div id="ingredientSearchResults" class="search-results"></div>
         </div>

         <div id="context3" class="context-section" style="display: none;">
            <h2>Favorite Dishes</h2>
            <table id="favoriteDishesTable" border="1">
               <thead>
                  <tr>
                     <th>Name</th>
                     <th>Nutrition</th>
                     <th>Calories</th>
                     <th>Sodium</th>
                     <th>Frequency</th>
                     <th>Actions</th>
                  </tr>
               </thead>
               <tbody id="favoriteDishesBody">
                  <!-- Favorite dish rows will be dynamically added here -->
               </tbody>
            </table>
         </div>
      </div>
      
      <script>
         $('nav ul li.btn span').click(function(){
           $('nav ul div.items').toggleClass("show");
           $('nav ul li.btn span').toggleClass("show");
         });

         $(document).ready(function() {
    // Hide the dropdown content initially
    $('.dropdown-content').hide();
    
    // Toggle the dropdown content when the dropdown is clicked
    $('.dropdown').click(function(){
        $(this).find('.dropdown-content').toggle();
    });
});
      </script>
      <script src="{% static 'js/foodjournal.js' %}"></script> <!-- Include the new foodjournal.js -->
   </body>
</html>





